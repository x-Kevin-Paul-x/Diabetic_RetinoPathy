# APTOS 2019 Blindness Detection Dataset Configuration
# Source: Aravind Eye Hospital, India
# Classes: 5 (No DR, Mild, Moderate, Severe, Proliferative)

name: aptos
version: "2019"

# Data paths (relative to data_dir)
train_csv: "aptos/train.csv"
train_images: "aptos/train_images"
processed_images: "aptos/processed"

# Image settings
image_size: 512  # Ben Graham processed resolution
input_size: 456  # Model input (EfficientNet-B5 native)
channels: 3

# Class information
num_classes: 5
class_names:
  - "No DR"
  - "Mild NPDR"
  - "Moderate NPDR"
  - "Severe NPDR"
  - "Proliferative DR"

# Class weights for imbalanced data (inverse frequency)
# Approx distribution: [1805, 370, 999, 193, 295] from APTOS
class_weights:
  - 0.20
  - 1.00
  - 0.37
  - 1.91
  - 1.25

# Preprocessing
preprocessing:
  ben_graham: true
  gaussian_sigma: 10  # sigma = image_size / 10
  alpha: 4.0
  beta: -4.0
  gamma: 128.0

# Augmentation settings
augmentation:
  # Geometric (safe for retinal images)
  horizontal_flip: 0.5
  vertical_flip: 0.5
  rotate_limit: 360
  rotate_prob: 0.5
  scale_limit: 0.2
  
  # Photometric (moderate to preserve pathology colors)
  brightness_limit: 0.2
  contrast_limit: 0.2
  saturation_range: [0.8, 1.2]
  hue_shift_limit: 10  # Small to preserve hemorrhage colors
  
  # Advanced
  coarse_dropout_prob: 0.3
  coarse_dropout_max_holes: 8
  coarse_dropout_max_size: 0.1  # Fraction of image

# Validation
validation:
  stratified: true
  split_ratio: 0.2  # If not using k-fold
